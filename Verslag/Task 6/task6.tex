\documentclass[a4paper,11pt]{article}

\usepackage[margin=3cm]{geometry}

\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage[colorlinks,allcolors=violet]{hyperref}
\usepackage{url}
\usepackage{lmodern}
\usepackage[dutch]{babel}
\usepackage{hyperref}

% https://tex.stackexchange.com/questions/94032/fancy-tables-in-latex
\usepackage[table]{xcolor}
\usepackage{booktabs}
\usepackage[utf8]{inputenc}

% https://tex.stackexchange.com/questions/664/why-should-i-use-usepackaget1fontenc
\usepackage[T1]{fontenc}
\usepackage{microtype} % good font tricks

\newcommand{\note}[1]{{\colorbox{yellow!40!white}{#1}}}
\newcommand{\exampletext}[1]{{\color{blue!60!black}#1}}

\begin{document}

\noindent
\colorbox[HTML]{52BDEC}{\bfseries\parbox{\textwidth}{\centering\large
  --- Verslag P\&O CW 2019--2020 Taak 7 ---
}}
\\[-1mm]
\colorbox[HTML]{00407A}{\bfseries\color{white}\parbox{\textwidth}{
  Department Computerwetenschappen -- KU Leuven
  \hfill
  \today
}}
\\

\smallskip

\noindent

\begin{tabular}{*4l}
\toprule
\multicolumn{2}{l}{\large\textbf{Team 12}} \\
\midrule
Frédéric Blondeel & h \\
Martijn Debeuf & h \\
Toon Sauvillers & h \\ % fill in the time spend on this task per team member who worked on it
Dirk Vanbeveren & 21h \\
Bert Van den Bosch & h \\
Seppe Van Steenbergen & h \\


\bottomrule
\hline
\end{tabular}\\

\noindent
{\color[HTML]{52BDEC} \rule{\linewidth}{1mm} }
\tableofcontents
\newpage
\section{Introductie}\label{sec:introductie}

Bij een live applicatie is het belangerijk dat de aangesloten apparaten de mogelijkheid hebben synchroon een beeld te weergeven wat niet altijd vanzelfsprekend is door door verschillende factoren zoals latency en snelheid van een apparaat. Hiervoor zijn er verschillende technieken om toch synchronisatie te bekomen.

\section{Vertraging berekenen}
Er is een vertraging tussen een aangesloten client en de server, de “ping”. Dit is gemeten in milliseconden.
Hier wordt dit gedaan door een bericht met de actuele tijd te verzenden van de server naar de client, en terug. De verzonden tijd wordt afgetrokken van de actuele tijd en gedeelt door twee waarmee we de ping verkrijgen.

\section{Klok synchronisatie}
Het is niet gegarandeert dat de klok van de clienten allemaal gesynchroniseerd zijn met de server. Daarom is het ook nodig om te weten wat het verschil is tussen de tijd aan de kant van de client en de server.
Bij het terug verzenden van de client naar de server wordt de client tijd er ook bij gezet. Met deze client tijd en de berekende ping, is het mogelijk het tijdsverschil tussen de client en de server te berekenen. Door dit verschil toe te voegen aan de server tijd is het mogelijk de correcte client tijd te vinden. Dit wordt gebruikt om een starttijd te bepalen voor elke client dat op exact hetzelfde moment begint.
Countdown timer implementatie
Bij de naïve implementatie van de timer is er gebruikt gemaakt van de setTimer() functie die recursief een getal aftelt en tekend op een canvas. Een probleem hierbij is dat apparaten niet even snel het getal kunnen tekenen op het scherm waardoor er apparaten kunnen zijn die sneller zijn dan andere.
Daarom is er gebruik gemaakt van setInterval() dat periodisch het getal berekend relatief ten opzichte van de meegegeven starttijd, interval en aftel getal. Als er een client trager is, en niet optijd op het scherm kan tekenen, dan zal het getal worden overgeslagen omdat het apparaat het sowieso niet zou aankunnen. Hierdoor blijven de getallen op het scherm synchroon en zal het aftellen ook op het zelfde moment stoppen op elk scherm.





\end{document}