<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<style></style>
	<title>Css matrix test</title>
</head>

<body>
    <script src="Animations.js" type="text/javascript"></script>
    <script src="Triangle.js" type="text/javascript"></script>
    <script src="Delaunay.js" type="text/javascript"></script>
    <script src="Point.js" type="text/javascript"></script>
    <script src="Line.js" type="text/javascript"></script>

    <h2>Animation Test</h2>
    <canvas id="canvas" style="width: 900px; height: 900px"></canvas>
    <script>
        var canvas = document.getElementById("canvas")
        let triangulation = Delaunay.triangulation(Delaunay.randomPointsGenerator(10, canvas), canvas.width, canvas.height)
        let firstPoint = triangulation[0].point1
        let endPoint = triangulation[0].point2
        var animation = new Animations(canvas)
        animation.setPosition(firstPoint[0], firstPoint[1])
        animation.setDirection(firstPoint, endPoint)
        animation.firstPoint = firstPoint
        animation.endPoint = endPoint
        
        setInterval(function(){
            animation.drawImage(triangulation)
            for(let tri = 0; tri < triangulation.length; tri++){
                let ctx = canvas.getContext("2d")
                let triangle = triangulation[tri]
                ctx.beginPath()
                ctx.moveTo(triangle.point1[0], triangle.point1[1])
                ctx.lineTo(triangle.point2[0], triangle.point2[1])
                ctx.lineTo(triangle.point3[0], triangle.point3[1])
                ctx.lineTo(triangle.point1[0], triangle.point1[1])
                ctx.closePath()
                ctx.lineWidth = 1
                ctx.strokeStyle = '#000'
                ctx.stroke()
            }
        }, 100)
    </script>
	

</body>

</html>